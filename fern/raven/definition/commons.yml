# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

types:
  AppId: string
  UserId: string
  RequestId: string
  DeviceId: string
  User:
    properties:
      user_id:
        type: UserId
        docs: |
          userId to send the notifications to. 
          This is  your own user identifier which you have used to create user on Raven
      email:
        type: optional<string>
      mobile:
        type: optional<string>
        docs: mobile with country code prefix (e.g +91)
      whatsapp_mobile:
        type: optional<string>
        docs: |
          mobile with country code prefix (e.g. +91).
          if empty, `mobile` is considered for whatsapp
      onesignal_external_id:
        type: optional<string>
        docs: "[OneSignal external user IDs](https://documentation.onesignal.com/docs/external-user-ids)"
      fcm_tokens:
        type: optional<list<string>>
        docs: List of fcm tokens.  eg. ["<fcmtoken1", "<fcmtoken2>"]
  UserProfile:
    properties:
      user_sid: string
      user_id: UserId
      mobile: optional<string>
      email: optional<string>
      whatsapp_mobile: optional<string>
      devices: list<DeviceProfile>
      created_at: integer
      updated_at: integer
  DeviceProfile:
    properties:
      created_at: integer
      updated_at: integer
      platform: string
      fcm_token: string
      device_sid: string # Should this be DeviceId?
      notifications_disabled: boolean
  Platform:
    enum:
      - ANDROID
      - WEB
      - IOS
